---
page_title: "gamefabric_secret Resource - GameFabric"
subcategory: ""
description: |-
  
---

# gamefabric_secret (Resource)

A Secret resource in GameFabric allows you to securely store sensitive data (credentials, API keys, passwords, tokens, etc.) that can be referenced and used across your infrastructure. Secrets are scoped to environments and provide a centralized way to manage sensitive information that can be shared across multiple deployments.

## What is a Secret?

Secrets are key-value data objects that store sensitive configuration information. They can be:

- **Mounted as files** in the filesystem of containers in your Armadas, ArmadaSets, Vessels, and Formations.
- **Referenced in environment variables** across all resources that support environment variable sources.
- **Organized with labels** to enable filtering and discovery of related secrets.

## Configuration Options: `data` vs `data_wo`

The GameFabric provider offers two different ways to pass in the values of the secrets depending on your security requirements:

### Regular Data (`data` attribute)
Use the `data` attribute when:
- You need to reference the secret values in other Terraform resources or outputs.
- You want Terraform to automatically update the secret when the configuration changes (without manually updating a version field).
- You are using a Terraform version older than 1.11.0.

**Note:** Using this attribute necessitates storing the raw secret values in the Terraform state file. Ensure your state file is encrypted and access-controlled.

### Write-Only Data (`data_wo` attribute)

**Note:** Write-only attributes are only supported in Terraform v1.11.0 and later.

Use the `data_wo` attribute when:
- You want to avoid storing the raw secret values in the Terraform state file.
- You are using ephemeral resources to generate secrets that should not be persisted.
- You have strict security requirements that prevent sensitive data from being written to the state file.

Values in `data_wo` are write-only: they're transmitted to the server but never stored in state or displayed in plans.
This is the recommended approach for highly sensitive credentials like API keys or passwords.

To allow Terraform to detect changes to write-only secrets, you must update the `data_wo_version` attribute whenever you change the secrets in `data_wo`. If `data_wo_version` is not incremented, Terraform will not detect the change and will not update the secret resource.

**Note:** Only one of `data` or `data_wo` can be specified for a secret resource. Choose based on your security requirements.

## Example Usage - Basic Secret with Persistent Data

This example demonstrates how to create a secret using the `data` attribute. The values will be stored in the Terraform state.

```terraform
resource "gamefabric_secret" "db_credentials" {
  name        = "examplesecret"
  environment = data.gamefabric_environment.dev.name
  description = "Backend database credentials"
  labels = {
    component = "database"
  }
  data = {
    db_user     = "dbuser123"
    db_password = "abcdef123456!#$&'*+-=?^_`{|}~"
  }
}
```

## Example Usage - Write-Only Secret with Ephemeral Resource

**Note**: Ephemeral resources are available in Terraform 1.10 and later, write-only attributes in 1.11 and later.

This example demonstrates how to use a write-only secret data with an ephemeral resource.

```terraform
ephemeral "random_password" "db_password" {
  length           = 16
  override_special = "!#$%&*()-_=+[]{}<>:?"
}

resource "gamefabric_secret" "db_credentials" {
  name        = "db-creds"
  environment = data.gamefabric_environment.prod.name
  description = "Database credentials"

  data_wo = {
    db_user    = "secr3t_user"
    api_secret = ephemeral.random_password.db_password.result
  }
  data_wo_version = 1
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `environment` (String) The name of the environment the resource belongs to.
- `name` (String) The unique object name within its scope. Must contain only lowercase alphanumeric characters, hyphens, or dots. Must start and end with an alphanumeric character. Maximum length is 63 characters.

### Optional

> **NOTE**: [Write-only arguments](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments) are supported in Terraform 1.11 and later.

- `annotations` (Map of String) Annotations is an unstructured map of keys and values stored on an object.
- `data` (Map of String, Sensitive) Data contains the secret key-value pairs. These are stored in state and persisted. Use data_wo for write-only ephemeral values.
- `data_wo` (Map of String, Sensitive, [Write-only](https://developer.hashicorp.com/terraform/language/resources/ephemeral#write-only-arguments)) DataWO is a write-only version of data. Values are sensitive and write-only - they are only transmitted to the server and never displayed or stored in state.
- `data_wo_version` (Number) DataWOVersion is the version of the write-only data. This is used to force updates when using data_wo.
- `description` (String) Description is the optional description of the secret.
- `labels` (Map of String) A map of keys and values that can be used to organize and categorize objects.

### Read-Only

- `id` (String) The unique Terraform identifier.

## Notes on Import

This resource **does not support import** because the GameFabric API returns masked secret data (not the actual values) when reading secrets. Since Terraform cannot determine the actual secret values from the API response, importing would result in incomplete state.

To manage secrets, create them as new resources in your Terraform configuration with the appropriate `data` or `data_wo` values.

